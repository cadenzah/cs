## Metadata
- 강의명: C/C++/자료구조
- 주제명: 12강 - 컴퓨터가 변수를 처리하는 방법
- 날짜: 2020. 1. 24.

## Index
- C언어에서 다양한 변수들을 처리하는 방법 알아보기
- 지역 변수, 전역 변수, 레지스터 변수에 대하여 알아보기
- 함수에 값 또는 주소를 인자로 전달하는 방법 알아보기

## 프로그램 메모리 주소
- 컴퓨터가 프로그램을 실행하려면, 우선 코드가 메모리 상에 적재(Load)되어야 함
  - CPU가 메모리에서 그 프로그램을 한줄 한줄 읽으며 실행하게 된다
  - 프로그램이 로드될 수 있는 충분한 크기의 메모리 공간이 필요
- 일반적인 컴퓨터 운영 체제는 메모리 공간이 4가지로 구분된다

코드 영역|데이터 영역|힙 영역|스택 영역
-|-|-|-
소스 코드|전역/지역 변수|동적 할당 변수|지역 변수, 매개 변수

## 전역 변수
- 프로그램 어디에서든 접근할 수 있는 변수
- `main` 함수가 실행되기 전에, 프로그램 시작과 동시에 메모리에 할당된다
  - 데이터 영역에 할당된다
- 프로그램의 규모가 커질수록, 전역 변수로 인해 프로그램 복잡도가 증가할 수 있다

```cpp
#include<stdio.h>

int a = 5; // 전역 변수

void changeValue() {
  a = 10;
}

int main(void) {
  printf("%d\n", a);
  changeValue();
  printf("%d\n", a);

  return 0;
}
```

## 지역 변수
- 프로그램에서 특정 블록(Block)에서**만** 접근할 수 있는 변수
- 함수가 실행될 때마다 스택 영역에 할당되고, *함수가 종료되고나면 메모리에서 해제*된다.

```cpp
#include<stdio.h>
int main(void) {
  int a = 7; // main 함수의 지역 변수 a
  if (1) {
    int a = 5; // if 블록 내의 지역 변수 a
    // 블록 밖으로 나가면 해제된다
  }
  printf("%d", a);

  return 0;
}
```

## 정적(Static) 변수
- 특정한 블록(Block)에서**만** 접근할 수 있는 변수
  - 즉, 지역 변수와 전역 변수의 특징을 모두 가진다
- 프로그램이 실행될 때 데이터 영역에 적재되어, 프로그램이 종료되면 메모리에서 해제
  - 특정 함수에 매이지 않는다!
  - *함수가 실행이 종료된 후에도 해당 변수는 해제되지 않는다.*

```cpp
#include<stdio.h>

void process() {
  static int a = 5; // 이 함수 블록에 종속되긴 하나, 함수의 생명 주기와 무관하게 존재
  // 이 함수가 다시 실행될 때에는, 위의 선언 및 초기화 코드는 무시된다. 이미 메모리에 할당된 것이므로...
  a = a + 1;
  printf("%d\n", a);
}

int main(void) {
  process(); // a = 6
  process(); // a = 7
  process(); // a = 8

  return 0;
}
```
  
## 레지스터 변수
- 메인 메모리 대신 CPU 레지스터를 사용하는 변수
- 레지스터 수가 한정되므로, *실제 레지스터에서 처리될지 장담할 수 없다.*

## 함수의 매개변수가 처리될 때
함수 호출시 필요한 데이터를 매개 변수로 전달 

### (1) 값에 의한 전달 (Call By Value)
- 단지 값만을 전달하므로, **함수 내에서 변수가 새롭게 생성**
- 본래 변수에는 아무런 영향을 미치지 못한다

### (2) 주소에 의한 전달 (Call By Reference)
주소만을 전달하므로 함수 바깥의 원래 변수에 접근 가능
